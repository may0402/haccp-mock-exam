
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>HACCP 60A æ¨¡æ“¬è€ƒï¼ˆå¤§å‹å‹•æ…‹é¡Œåº«ç‰ˆï¼‰</title>
  <style>
    body { font-family: "Noto Sans TC", sans-serif; padding: 20px; background: #f9fff9; }
    h1, h2 { color: #2a7a2e; }
    .question-block { border-left: 5px solid #80c980; background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 6px; }
    label { display: block; margin-top: 5px; }
    button { background: #80c980; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; margin-top: 10px; }
    .result { font-weight: bold; margin-top: 20px; }
    .answer { display: none; color: #d80000; font-weight: bold; margin-top: 8px; }
  </style>
</head>
<body>
<h1>ğŸŒ¿ HACCP 60A æ¨¡æ“¬è€ƒï½œéš¨æ©Ÿ 20 é¡Œå¤§é¡Œåº«ç‰ˆ</h1>
<p>æ¯æ¬¡é»ã€ŒğŸ² å‡ºæ–°é¡Œç›®ã€æœƒå¾å¤§é¡Œåº«ä¸­éš¨æ©ŸæŠ½å‡º 10 é¡Œé¸æ“‡ + 10 é¡Œæ˜¯éé¡Œ</p>
<button onclick="generateExam()">ğŸ² å‡ºæ–°é¡Œç›®</button>
<form id="examForm"></form>
<button onclick="checkAnswers()">âœ… æŸ¥çœ‹æˆç¸¾</button>
<div class="result" id="resultBlock"></div>

<script>
const mcQuestions = [
  { text: "HACCP çš„ç¬¬ä¸€åŸå‰‡ç‚ºä½•ï¼Ÿ", options: ["A. è¨­å®šé™å€¼", "B. å±å®³åˆ†æ", "C. å»ºç«‹ç´€éŒ„", "D. é©—è­‰ç¨‹åº"], correct: "B" },
  { text: "ä¸‹åˆ—å“ªä¸€é …å±¬æ–¼ç‰©ç†æ€§å±å®³ï¼Ÿ", options: ["A. ç´°èŒ", "B. è¾²è—¥æ®˜ç•™", "C. é‡‘å±¬ç¢ç‰‡", "D. æ¸…æ½”åŠ‘"], correct: "C" },
  { text: "GHP æ˜¯å¦åªé©ç”¨æ–¼é€²å£é£Ÿå“æ¥­è€…ï¼Ÿ", options: ["A. æ˜¯", "B. å¦"], correct: "B" },
  { text: "ä¸­å¿ƒæº«åº¦åŠ ç†± 75Â°C æ˜¯ç‚ºäº†æ§åˆ¶ä»€éº¼å±å®³ï¼Ÿ", options: ["A. åŒ–å­¸æ€§", "B. ç”Ÿç‰©æ€§", "C. ç‰©ç†æ€§", "D. ç‡Ÿé¤Šæµå¤±"], correct: "B" },
  { text: "HACCP è¨ˆç•«ä¸­ CCP æ˜¯ä»€éº¼æ„æ€ï¼Ÿ", options: ["A. å±å®³åˆ†é¡", "B. ç”Ÿç”¢æ­¥é©Ÿ", "C. é—œéµæ§åˆ¶é»", "D. ç”Ÿç”¢è¨˜éŒ„"], correct: "C" },
  { text: "é£Ÿå“æ¨™ç¤ºä¸å¯¦å¯èƒ½å±¬æ–¼ä»€éº¼å±å®³ï¼Ÿ", options: ["A. ç”Ÿç‰©æ€§", "B. åŒ–å­¸æ€§", "C. èª¤å°æ€§", "D. æ³•è¦æ€§"], correct: "D" },
  { text: "ä½•è€…ä¸æ˜¯ HACCP ä¸ƒåŸå‰‡ä¹‹ä¸€ï¼Ÿ", options: ["A. å±å®³åˆ†æ", "B. æ±ºå®š CCP", "C. å®¢è¨´è™•ç†", "D. é©—è­‰ç¨‹åº"], correct: "C" },
  { text: "äº¤å‰æ±¡æŸ“æœ€å¸¸è¦‹çš„é é˜²æ–¹æ³•ï¼Ÿ", options: ["A. åŒ…è£å¯†å°", "B. äººå“¡æ¸…æ½”åˆ†æµ", "C. åŠ ç†±æ®ºèŒ", "D. å†·è—ä¿å­˜"], correct: "B" },
  { text: "HACCP ä¸­è¨˜éŒ„ä¿å­˜çš„ç›®çš„æ˜¯ï¼Ÿ", options: ["A. è¨ˆç®—æˆæœ¬", "B. å“¡å·¥è€ƒæ ¸", "C. æ³•è¦éµå¾ªèˆ‡å¯è¿½æº¯", "D. æé«˜å£æ„Ÿ"], correct: "C" },
  { text: "å±å®³åˆ†æåŒ…å«å“ªä¸‰é¡å±å®³ï¼Ÿ", options: ["A. ç”Ÿç‰©æ€§ã€åŒ–å­¸æ€§ã€ç‰©ç†æ€§", "B. å¾®ç”Ÿç‰©ã€è—¥ç‰©ã€å…‰ç·š", "C. æ°£å‘³ã€é›œè³ªã€é‡é‡", "D. åŒ…è£ã€ç…§æ˜ã€äººå“¡"], correct: "A" }
];

const tfQuestions = [
  { text: "HACCP å¯ä»¥å®Œå…¨å–ä»£ GHPã€‚", correct: "X" },
  { text: "GHP æ˜¯ HACCP çš„åŸºç¤ä¹‹ä¸€ã€‚", correct: "O" },
  { text: "è¨­ç½®é‡‘å±¬æ¢æ¸¬å™¨æ˜¯é é˜²åŒ–å­¸æ€§å±å®³ã€‚", correct: "X" },
  { text: "ç›£æ§æº«åº¦æ˜¯æ§åˆ¶ç”Ÿç‰©æ€§å±å®³çš„æ–¹æ³•ã€‚", correct: "O" },
  { text: "çŸ¯æ­£æªæ–½æ‡‰åœ¨åé›¢é™å€¼æ™‚ç«‹å³å•Ÿå‹•ã€‚", correct: "O" },
  { text: "é£Ÿå“è£½ç¨‹çš„æ¯å€‹æ­¥é©Ÿéƒ½æ˜¯ CCPã€‚", correct: "X" },
  { text: "è¨˜éŒ„ä¿å­˜æ˜¯ HACCP ä¸ƒåŸå‰‡ä¹‹ä¸€ã€‚", correct: "O" },
  { text: "æ‰€æœ‰ HACCP è¨ˆç•«éƒ½å¿…é ˆä¸€æ¨¡ä¸€æ¨£ã€‚", correct: "X" },
  { text: "å†·è—å¿…é ˆç¶­æŒåœ¨ 7Â°C ä»¥ä¸‹å±¬æ–¼ CCP æ§åˆ¶ã€‚", correct: "O" },
  { text: "é£Ÿç‰©å¤–è§€ä¸ä½³å±¬æ–¼ç‰©ç†æ€§å±å®³ã€‚", correct: "X" }
];

function shuffle(array) {
  let currentIndex = array.length, randomIndex;
  while (currentIndex !== 0) {
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex--;
    [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
  }
  return array;
}

function generateExam() {
  const container = document.getElementById("examForm");
  container.innerHTML = "";
  document.getElementById("resultBlock").innerHTML = "";

  const selectedMC = shuffle([...mcQuestions]).slice(0, 10);
  const selectedTF = shuffle([...tfQuestions]).slice(0, 10);
  const all = [...selectedMC.map((q, i) => ({ ...q, type: 'mc', id: i + 1 })),
               ...selectedTF.map((q, i) => ({ ...q, type: 'tf', id: i + 11 }))];

  all.forEach((q, idx) => {
    const block = document.createElement("div");
    block.className = "question-block";
    block.innerHTML = `<p>${q.id}. ${q.text} <span style="color:#888">ï¼ˆ${q.type === 'mc' ? 'é¸æ“‡é¡Œ' : 'æ˜¯éé¡Œ'}ï¼‰</span></p>`;
    if (q.type === "mc") {
      q.options.forEach(opt => {
        const val = opt[0];
        block.innerHTML += `<label><input type="radio" name="q${q.id}" value="${val}"> ${opt}</label>`;
      });
      const ans = q.options.find(opt => opt.startsWith(q.correct));
      block.innerHTML += `<div class="answer" id="ans-q${q.id}">âœ” æ­£ç¢ºç­”æ¡ˆï¼š${ans}</div>`;
    } else {
      block.innerHTML += `
        <label><input type="radio" name="q${q.id}" value="O"> æ­£ç¢º</label>
        <label><input type="radio" name="q${q.id}" value="X"> éŒ¯èª¤</label>
        <div class="answer" id="ans-q${q.id}">âœ” æ­£ç¢ºç­”æ¡ˆï¼šæ‡‰é¸ã€Œ${q.correct === "O" ? "æ­£ç¢º" : "éŒ¯èª¤"}ã€</div>`;
    }
    container.appendChild(block);
  });
}

function checkAnswers() {
  let score = 0;
  let wrongs = [];
  for (let i = 1; i <= 20; i++) {
    const selected = document.querySelector(`input[name="q${i}"]:checked`);
    const correctAns = document.getElementById(`ans-q${i}`);
    correctAns.style.display = "block";
    const correctVal = correctAns.textContent.includes("æ‡‰é¸") ? (correctAns.textContent.includes("æ­£ç¢º") ? "O" : "X")
                      : correctAns.textContent[7]; // æ–‡å­—ç¬¬8å­—æ˜¯é¸é …ä»£è™Ÿ
    if (selected && selected.value === correctVal) {
      score += i <= 10 ? 3 : 2;
    } else {
      wrongs.push(i);
    }
  }
  document.getElementById("resultBlock").innerHTML =
    `âœ… ç¸½åˆ†ï¼š${score} / 100<br>âŒ éŒ¯é¡Œï¼š${wrongs.length > 0 ? wrongs.join(", ") : "ç„¡ï¼Œå…¨å°ï¼"}`;
}

window.onload = generateExam;
</script>
</body>
</html>
